\section{High-Level Control}\label{sec:back_high_level_control}

In the previous section, we reviewed mid-level controllers that produce desired
torques given a specific mode of walking. Here, we describe high-level
controllers that classify the current walking mode, such as standing, level
ground walking and stair and ramp ascent/descent, so that the appropriate
control parameters or type of mid-level control can be selected. 

A variety of classifiers have been used to detect gait modes including
artificial neural networks \citep{huang2009strategy}, linear discriminant
analysis
\citep{huang2009strategy,huang2011continuous,hargrove2015intuitive,young2014intent},
Gaussian mixture models \citep{varol2010multiclass}, support vector machines
\citep{huang2011continuous,massalin2017user,yan2018locomotion}, dynamic Bayesian
networks \citep{young2014intent,hargrove2015intuitive,spanias2018online}.
Additionally, papers have suggested using different sensors including
electromyography (EMG) \citep{huang2009strategy}, prosthesis mechanical sensors
\citep{varol2010multiclass,young2014intent,young2014training}, a combination of
EMG and mechanical sensors
\citep{huang2011continuous,spanias2018online,hargrove2015intuitive}, and laser
range finders/depth sensors
\citep{zhang2011preliminary,liu2016development,massalin2017user,yan2018locomotion}.

In some of the early works on gait mode recognition, a single set of training
data was collected in which modes were switched either manually or using
hand-tuned rules. Using this dataset, the mode recognition classifier was
trained a single time, and offline classification accuracy was reported
\citep{huang2009strategy,huang2011continuous,young2014intent}. However,
\citet{hargrove2015intuitive} show that when classifiers trained in this fashion
are deployed on the real prosthesis, classification errors are worse in the
online setting than in the offline setting. This is because the high
level-controller governed by the classifier affects the behavior of the system,
and changes the distribution of data from that on which the classifier is
trained. To overcome this issue, \citet{spanias2018online} provide a method for
updating the classifier online so that the training and testing data
distributions converge. In this method, a forward classifier provides labels
for gait modes for use in real time and a backward classifier labels gait modes
in hindsight with more data. The labels from the backward classifier are then
used to update the forward classifier. 
